Unity.API/Properties/launchSettings.json içindeki başlatma ayarları kullanılıyor...
Derleniyor...
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde önem derecesi yüksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde önem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 güvenlik açığı var
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Project' has a global query filter defined and is the required end of a relationship with the entity 'ProjectMember'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Project' has a global query filter defined and is the required end of a relationship with the entity 'TaskItem'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Department' has a global query filter defined and is the required end of a relationship with the entity 'UserDepartment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Project' has a global query filter defined and is the required end of a relationship with the entity 'UserProjectPreference'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Department' has a global query filter defined and is the required end of a relationship with the entity 'UserWorkspacePreference'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (103ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF OBJECT_ID('dbo.TaskAssignees', 'U') IS NOT NULL DELETE FROM TaskAssignees WHERE TaskId IS NULL AND SubtaskId IS NULL
DEBUG: Zombie TaskAssignees cleaned up.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (173ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (91ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: Microsoft.EntityFrameworkCore.Migrations[20405]
      No migrations were applied. The database is already up to date.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('Departments', 'IsMaster') IS NULL BEGIN ALTER TABLE Departments ADD IsMaster BIT NOT NULL DEFAULT 0 END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (180ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('Departments', 'CreatedAt') IS NULL BEGIN ALTER TABLE Departments ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE() END
DEBUG: Checking/Creating UserColumnPreferences table...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.UserColumnPreferences', 'U') IS NULL
                          BEGIN
                              CREATE TABLE UserColumnPreferences (
                                  Id INT IDENTITY(1,1) PRIMARY KEY,
                                  UserId INT NOT NULL,
                                  Preferences NVARCHAR(MAX) DEFAULT '{}',
                                  CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE(),
                                  UpdatedAt DATETIME2 NULL
                              );
                              CREATE INDEX IX_UserColumnPreferences_UserId ON UserColumnPreferences(UserId);
                          END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (96ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('UserColumnPreferences', 'SidebarPreferences') IS NULL BEGIN ALTER TABLE UserColumnPreferences ADD SidebarPreferences NVARCHAR(MAX) NOT NULL DEFAULT '{}' END
DEBUG: Table creation and migration logic executed.
DEBUG: Checking/Creating UserWorkspacePreferences table...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.UserWorkspacePreferences', 'U') IS NULL
                          BEGIN
                              CREATE TABLE UserWorkspacePreferences (
                                  Id INT IDENTITY(1,1) PRIMARY KEY,
                                  UserId INT NOT NULL,
                                  DepartmentId INT NOT NULL,
                                  SortOrder INT NOT NULL DEFAULT 0,
                                  IsVisible BIT NOT NULL DEFAULT 1,
                                  IsCollapsed BIT NOT NULL DEFAULT 0,
                                  CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE(),
                                  UpdatedAt DATETIME2 NULL,
                                  CONSTRAINT FK_UserWorkspacePreferences_User FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE,
                                  CONSTRAINT FK_UserWorkspacePreferences_Department FOREIGN KEY (DepartmentId) REFERENCES Departments(Id) ON DELETE CASCADE
                              );
                              CREATE INDEX IX_UserWorkspacePreferences_UserId ON UserWorkspacePreferences(UserId);
                              CREATE UNIQUE INDEX IX_UserWorkspacePreferences_UserDept ON UserWorkspacePreferences(UserId, DepartmentId);
                          END
DEBUG: Migrating SidebarPreferences JSON to UserWorkspacePreferences...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[CreatedAt], [u].[Preferences], [u].[SidebarPreferences], [u].[UpdatedAt], [u].[UserId]
      FROM [UserColumnPreferences] AS [u]
      WHERE [u].[SidebarPreferences] <> N'{}'
DEBUG: UserWorkspacePreferences migration completed.
DEBUG: Creating/Updating vw_DashboardTasks View...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (192ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_DashboardTasks', 'V') IS NOT NULL
                              DROP VIEW dbo.vw_DashboardTasks;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (119ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
      CREATE VIEW vw_DashboardTasks AS
      SELECT 
          t.Id AS TaskId,
          t.Title,
          t.Status,
          t.Priority,
          t.Progress,
          t.DueDate,
          t.StartDate,
          t.UpdatedAt,
          t.ProjectId,
          p.Name AS ProjectName,
          p.Color AS ProjectColor,
          p.DepartmentId,
          d.Name AS DepartmentName,
          d.Color AS DepartmentColor,
          ta.UserId AS AssigneeId
      FROM Tasks t
      INNER JOIN Projects p ON t.ProjectId = p.Id AND p.IsDeleted = 0
      INNER JOIN Departments d ON p.DepartmentId = d.Id AND d.IsDeleted = 0
      LEFT JOIN TaskAssignees ta ON t.Id = ta.TaskId
      WHERE t.IsDeleted = 0;
DEBUG: vw_DashboardTasks View Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_UserDashboardStats', 'V') IS NOT NULL DROP VIEW dbo.vw_UserDashboardStats;
                          EXEC('
                          CREATE VIEW dbo.vw_UserDashboardStats AS
                          SELECT 
                              u.Id as UserId,
                              COUNT(t.Id) as TotalTasks,
                              SUM(CASE WHEN t.Status = ''done'' THEN 1 ELSE 0 END) as DoneTasks,
                              SUM(CASE WHEN t.Status = ''todo'' THEN 1 ELSE 0 END) as TodoTasks,
                              SUM(CASE WHEN t.Status IN (''working'', ''in_progress'') THEN 1 ELSE 0 END) as InProgressTasks,
                              SUM(CASE WHEN t.Status = ''stuck'' THEN 1 ELSE 0 END) as StuckTasks,
                              SUM(CASE WHEN t.Status = ''review'' THEN 1 ELSE 0 END) as ReviewTasks,
                              SUM(CASE WHEN t.DueDate < GETDATE() AND t.Status != ''done'' THEN 1 ELSE 0 END) as OverdueTasks,
                              COALESCE(AVG(t.Progress), 0) as AverageProgress
                          FROM Users u
                          LEFT JOIN TaskAssignees ta ON u.Id = ta.UserId
                          LEFT JOIN Tasks t ON ta.TaskId = t.Id AND t.IsDeleted = 0
                          WHERE u.IsDeleted = 0
                          GROUP BY u.Id
                          ');
DEBUG: vw_UserDashboardStats View Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (100ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_ProjectList', 'V') IS NOT NULL DROP VIEW dbo.vw_ProjectList;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
      CREATE VIEW vw_ProjectList AS
      SELECT 
          p.Id AS Id,
          p.Id AS ProjectId,
          p.Name,
          p.Description,
          p.Icon,
          p.Color,
          p.Status,
          p.Priority,
          p.IsPrivate,
          p.Owner,
          p.DepartmentId,
          p.CreatedAt,
          p.UpdatedAt,
          d.Name AS DepartmentName,
          d.Color AS DepartmentColor,
          (SELECT COUNT(*) FROM Tasks t WHERE t.ProjectId = p.Id AND t.IsDeleted = 0) AS TaskCount,
          (SELECT COUNT(*) FROM Tasks t WHERE t.ProjectId = p.Id AND t.IsDeleted = 0 AND t.Status = 'done') AS CompletedTaskCount,
          (SELECT COUNT(*) FROM ProjectMembers pm WHERE pm.ProjectId = p.Id) AS MemberCount
      FROM Projects p
      INNER JOIN Departments d ON p.DepartmentId = d.Id AND d.IsDeleted = 0
      WHERE p.IsDeleted = 0;
DEBUG: vw_ProjectList View Created Successfully.
DEBUG: Creating Performance Indexes...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (172ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_ProjectId_IsDeleted' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_ProjectId_IsDeleted 
                          ON Tasks (ProjectId, IsDeleted)
                          INCLUDE (Title, Status, Priority, DueDate, Progress, CreatedAt, CreatedBy)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (101ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_Status' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_Status ON Tasks (Status)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_CreatedAt' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_CreatedAt ON Tasks (CreatedAt DESC)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_TaskAssignees_UserId_TaskId' AND object_id = OBJECT_ID('TaskAssignees'))
                          CREATE NONCLUSTERED INDEX IX_TaskAssignees_UserId_TaskId ON TaskAssignees (UserId, TaskId)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_TaskLabels_TaskId' AND object_id = OBJECT_ID('TaskLabels'))
                          CREATE NONCLUSTERED INDEX IX_TaskLabels_TaskId ON TaskLabels (TaskId)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (151ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Users_IsDeleted' AND object_id = OBJECT_ID('Users'))
                          CREATE NONCLUSTERED INDEX IX_Users_IsDeleted ON Users (IsDeleted) WHERE IsDeleted = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Projects_IsDeleted_DepartmentId' AND object_id = OBJECT_ID('Projects'))
                          CREATE NONCLUSTERED INDEX IX_Projects_IsDeleted_DepartmentId ON Projects (IsDeleted, DepartmentId)
      
                      -- 8. Subtasks: CRITICAL for List View Counts
                      IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Subtasks_TaskId' AND object_id = OBJECT_ID('Subtasks'))
                          CREATE NONCLUSTERED INDEX IX_Subtasks_TaskId ON Subtasks (TaskId)
      
                      -- 9. Comments: CRITICAL for List View Counts
                      IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Comments_TaskId' AND object_id = OBJECT_ID('Comments'))
                          CREATE NONCLUSTERED INDEX IX_Comments_TaskId ON Comments (TaskId)
DEBUG: Performance Indexes Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Avatar] IS NOT NULL AND ([u].[Avatar] LIKE N'%notionists%' OR [u].[Avatar] LIKE N'%avataaars%')
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (96ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Budget], [p].[Color], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[DepartmentId], [p].[Description], [p].[EndDate], [p].[Icon], [p].[IsDeleted], [p].[IsPrivate], [p].[Name], [p].[Owner], [p].[Priority], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
      FROM [Projects] AS [p]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
      FROM [Departments] AS [d]
CRITICAL ERROR DURING STARTUP: An item with the same key has already been added. Key: Yazılım
warn: Microsoft.AspNetCore.Server.Kestrel[0]
      Overriding address(es) 'http://localhost:8080'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://0.0.0.0:8080
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /appHub/negotiate took 1ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /appHub/negotiate took 22ms
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /appHub took 52920ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/auth/login took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__loginIdentifier_0='?' (Size = 450), @__loginIdentifier_0_1='?' (Size = 4000), @__ToLower_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Email] = @__loginIdentifier_0 OR [u].[Username] = @__loginIdentifier_0_1 OR REPLACE(LOWER([u].[FullName]), N' ', N'.') = @__ToLower_1
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Preferences], [u].[SidebarPreferences], [u].[UpdatedAt], [u].[UserId]
      FROM [UserColumnPreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (85ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[DepartmentId], [u].[SortOrder], [u].[IsVisible], [u].[IsCollapsed]
      FROM [UserWorkspacePreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
      ORDER BY [u].[SortOrder]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /api/auth/login took 493ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /appHub/negotiate took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/projects took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/users took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /appHub/negotiate took 7ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (55ms) [Parameters=[@__currentUser_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [p].[ProjectId]
      FROM [ProjectMembers] AS [p]
      WHERE [p].[UserId] = @__currentUser_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Name], [p].[Description], [p].[DepartmentId], [p].[Owner], [p].[Color], [p].[Status], [p].[Priority], [p].[Icon], [p].[IsPrivate], [p].[CreatedAt], [p].[UpdatedAt]
      FROM [Projects] AS [p]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p0].[UserId], [p].[Id]
      FROM [Projects] AS [p]
      INNER JOIN [ProjectMembers] AS [p0] ON [p].[Id] = [p0].[ProjectId]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/projects took 298ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
warn: Microsoft.EntityFrameworkCore.Query[10103]
      The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (129ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Color], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[HeadOfDepartment], [t].[IsDeleted], [t].[IsMaster], [t].[Name]
      FROM [UserDepartments] AS [u]
      INNER JOIN (
          SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
          FROM [Departments] AS [d]
          WHERE [d].[IsDeleted] = CAST(0 AS bit)
      ) AS [t] ON [u].[DepartmentId] = [t].[Id]
      WHERE [u].[UserId] = @__userId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/departments took 643ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[FullName], [u].[Email], [u].[Username], [u].[Role], [u].[Avatar], [u].[Color], [u].[JobTitle], [u].[Gender], [u].[CreatedAt]
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [u].[FullName], [u].[Id]
      OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u0].[DepartmentId], [t].[Id]
      FROM (
          SELECT [u].[Id], [u].[FullName]
          FROM [Users] AS [u]
          WHERE [u].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [u].[FullName]
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t]
      INNER JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[FullName], [t].[Id]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/users took 742ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels took 61ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (99ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/tasks/dashboard/stats took 609ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/tasks/dashboard/tasks took 655ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 71ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 95ms
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /appHub took 23780ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/auth/login took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__loginIdentifier_0='?' (Size = 450), @__loginIdentifier_0_1='?' (Size = 4000), @__ToLower_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Email] = @__loginIdentifier_0 OR [u].[Username] = @__loginIdentifier_0_1 OR REPLACE(LOWER([u].[FullName]), N' ', N'.') = @__ToLower_1
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (41ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Preferences], [u].[SidebarPreferences], [u].[UpdatedAt], [u].[UserId]
      FROM [UserColumnPreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (93ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[DepartmentId], [u].[SortOrder], [u].[IsVisible], [u].[IsCollapsed]
      FROM [UserWorkspacePreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
      ORDER BY [u].[SortOrder]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /api/auth/login took 380ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /appHub/negotiate took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/projects took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/users took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /appHub/negotiate took 1ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Color], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[HeadOfDepartment], [t].[IsDeleted], [t].[IsMaster], [t].[Name]
      FROM [UserDepartments] AS [u]
      INNER JOIN (
          SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
          FROM [Departments] AS [d]
          WHERE [d].[IsDeleted] = CAST(0 AS bit)
      ) AS [t] ON [u].[DepartmentId] = [t].[Id]
      WHERE [u].[UserId] = @__userId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/departments took 72ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__currentUser_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [p].[ProjectId]
      FROM [ProjectMembers] AS [p]
      WHERE [p].[UserId] = @__currentUser_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[FullName], [u].[Email], [u].[Username], [u].[Role], [u].[Avatar], [u].[Color], [u].[JobTitle], [u].[Gender], [u].[CreatedAt]
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [u].[FullName], [u].[Id]
      OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Name], [p].[Description], [p].[DepartmentId], [p].[Owner], [p].[Color], [p].[Status], [p].[Priority], [p].[Icon], [p].[IsPrivate], [p].[CreatedAt], [p].[UpdatedAt]
      FROM [Projects] AS [p]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u0].[DepartmentId], [t].[Id]
      FROM (
          SELECT [u].[Id], [u].[FullName]
          FROM [Users] AS [u]
          WHERE [u].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [u].[FullName]
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t]
      INNER JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[FullName], [t].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/users took 140ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p0].[UserId], [p].[Id]
      FROM [Projects] AS [p]
      INNER JOIN [ProjectMembers] AS [p0] ON [p].[Id] = [p0].[ProjectId]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/projects took 167ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (145ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels took 149ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 64ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 70ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 48ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 118ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/users took 1ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (116ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[FullName], [u].[Email], [u].[Username], [u].[Role], [u].[Avatar], [u].[Color], [u].[JobTitle], [u].[Gender], [u].[CreatedAt]
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [u].[FullName], [u].[Id]
      OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (103ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u0].[DepartmentId], [t].[Id]
      FROM (
          SELECT [u].[Id], [u].[FullName]
          FROM [Users] AS [u]
          WHERE [u].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [u].[FullName]
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t]
      INNER JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[FullName], [t].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/users took 288ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Color], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[HeadOfDepartment], [t].[IsDeleted], [t].[IsMaster], [t].[Name]
      FROM [UserDepartments] AS [u]
      INNER JOIN (
          SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
          FROM [Departments] AS [d]
          WHERE [d].[IsDeleted] = CAST(0 AS bit)
      ) AS [t] ON [u].[DepartmentId] = [t].[Id]
      WHERE [u].[UserId] = @__userId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/departments took 68ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/1 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/1 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (68ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/1 took 93ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/1 took 96ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/68 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/68 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/68 took 34ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (43ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (65ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/68 took 66ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (73ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (102ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 319ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (112ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/68 took 79ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (101ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (110ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 368ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/25 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/25 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (37ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/25 took 39ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (83ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/25 took 85ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (46ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (109ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (112ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 353ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (131ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/25 took 50ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (66ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (109ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 347ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/1 took 79ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (104ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (56ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/1 took 57ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (106ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (106ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 359ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/1 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (216ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (161ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/1 took 162ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (112ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 450ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 70ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 96ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 42ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 82ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/95 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/95 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (65ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/95 took 67ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (92ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (90ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/95 took 91ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (90ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 249ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (123ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (115ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/95 took 115ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__projectId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[ProjectId] = @__projectId_Value_0
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (93ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (104ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 358ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/projects/95 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [p].[Id], [p].[Budget], [p].[Color], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[DepartmentId], [p].[Description], [p].[EndDate], [p].[Icon], [p].[IsDeleted], [p].[IsPrivate], [p].[Name], [p].[Owner], [p].[Priority], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
      FROM [Projects] AS [p]
      WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (90ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
      FROM [Tasks] AS [t]
      WHERE [t].[ProjectId] = @__id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (71ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title]
      FROM [Subtasks] AS [s]
      WHERE [s].[TaskId] IN (
          SELECT [t].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (231ms) [Parameters=[@__taskIds_0='?' (Size = 4000), @__subtaskIds_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[SubtaskId], [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE ([t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )) OR ([t].[SubtaskId] IS NOT NULL AND [t].[SubtaskId] IN (
          SELECT [s].[value]
          FROM OPENJSON(@__subtaskIds_1) WITH ([value] int '$') AS [s]
      ))
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (109ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text]
      FROM [Comments] AS [c]
      WHERE [c].[TaskId] IN (
          SELECT [t].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (104ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (94ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM [Attachments] AS [a]
      WHERE [a].[TaskId] IN (
          SELECT [t].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (155ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[UserId], [u].[ProjectId], [u].[IsFavorite]
      FROM [UserProjectPreferences] AS [u]
      WHERE [u].[ProjectId] = @__id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (110ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [p].[ProjectId], [p].[UserId]
      FROM [ProjectMembers] AS [p]
      WHERE [p].[ProjectId] = @__id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (105ms) [Parameters=[@__sId_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[Id], [a].[ActionType], [a].[EntityId], [a].[EntityType], [a].[FieldName], [a].[LogDate], [a].[NewValue], [a].[NewValueDisplay], [a].[OldValue], [a].[OldValueDisplay], [a].[TraceId], [a].[UserId]
      FROM [ActivityLogs] AS [a]
      WHERE [a].[EntityType] = N'Project' AND [a].[EntityId] = @__sId_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      DELETE FROM [ProjectMembers]
      OUTPUT 1
      WHERE [ProjectId] = @p0 AND [UserId] = @p1;
      DELETE FROM [ProjectMembers]
      OUTPUT 1
      WHERE [ProjectId] = @p2 AND [UserId] = @p3;
      DELETE FROM [ProjectMembers]
      OUTPUT 1
      WHERE [ProjectId] = @p4 AND [UserId] = @p5;
      DELETE FROM [TaskAssignees]
      OUTPUT 1
      WHERE [Id] = @p6;
      DELETE FROM [TaskAssignees]
      OUTPUT 1
      WHERE [Id] = @p7;
      DELETE FROM [TaskAssignees]
      OUTPUT 1
      WHERE [Id] = @p8;
      DELETE FROM [TaskAssignees]
      OUTPUT 1
      WHERE [Id] = @p9;
      DELETE FROM [TaskLabels]
      OUTPUT 1
      WHERE [LabelId] = @p10 AND [TaskId] = @p11;
      DELETE FROM [Labels]
      OUTPUT 1
      WHERE [Id] = @p12;
      DELETE FROM [Tasks]
      OUTPUT 1
      WHERE [Id] = @p13;
      DELETE FROM [Tasks]
      OUTPUT 1
      WHERE [Id] = @p14;
      DELETE FROM [Projects]
      OUTPUT 1
      WHERE [Id] = @p15;
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] DELETE /api/projects/95 took 1844ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 63ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 184ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (152ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 155ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 103ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments/65 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
      FROM [Departments] AS [d]
      WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      DELETE FROM [Departments]
      OUTPUT 1
      WHERE [Id] = @p0;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [AuditLogs] ([Action], [Description], [EntityId], [EntityName], [NewValues], [OldValues], [Timestamp], [UserId], [UserName])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] DELETE /api/departments/65 took 388ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/projects took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/users took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Color], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[HeadOfDepartment], [t].[IsDeleted], [t].[IsMaster], [t].[Name]
      FROM [UserDepartments] AS [u]
      INNER JOIN (
          SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
          FROM [Departments] AS [d]
          WHERE [d].[IsDeleted] = CAST(0 AS bit)
      ) AS [t] ON [u].[DepartmentId] = [t].[Id]
      WHERE [u].[UserId] = @__userId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/departments took 77ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[FullName], [u].[Email], [u].[Username], [u].[Role], [u].[Avatar], [u].[Color], [u].[JobTitle], [u].[Gender], [u].[CreatedAt]
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [u].[FullName], [u].[Id]
      OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (76ms) [Parameters=[@__currentUser_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [p].[ProjectId]
      FROM [ProjectMembers] AS [p]
      WHERE [p].[UserId] = @__currentUser_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (73ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u0].[DepartmentId], [t].[Id]
      FROM (
          SELECT [u].[Id], [u].[FullName]
          FROM [Users] AS [u]
          WHERE [u].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [u].[FullName]
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t]
      INNER JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[FullName], [t].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/users took 161ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Name], [p].[Description], [p].[DepartmentId], [p].[Owner], [p].[Color], [p].[Status], [p].[Priority], [p].[Icon], [p].[IsPrivate], [p].[CreatedAt], [p].[UpdatedAt]
      FROM [Projects] AS [p]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (92ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p0].[UserId], [p].[Id]
      FROM [Projects] AS [p]
      INNER JOIN [ProjectMembers] AS [p0] ON [p].[Id] = [p0].[ProjectId]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/projects took 293ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (84ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels took 85ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (50ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (42ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 266ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (189ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (41ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (41ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 371ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 60ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 66ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 41ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (109ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 188ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/59 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels/project/59 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/59 took 33ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[@__projectId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
      WHERE [l].[ProjectId] = @__projectId_0
      ORDER BY [l].[Name]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels/project/59 took 96ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 450), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [Tasks] ([AssignedBy], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [DueDate], [IsDeleted], [IsPrivate], [Priority], [Progress], [ProjectId], [StartDate], [Status], [TShirtSize], [Title], [UpdatedAt])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (101ms) [Parameters=[@p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [TaskAssignees] ([SubtaskId], [TaskId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p16, @p17, @p18);
warn: Microsoft.EntityFrameworkCore.Query[20504]
      Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__task_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__task_Id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (199ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [AuditLogs] ([Action], [Description], [EntityId], [EntityName], [NewValues], [OldValues], [Timestamp], [UserId], [UserName])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] POST /api/tasks took 876ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/2318 took 0ms
warn: Microsoft.EntityFrameworkCore.Query[20504]
      Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Status] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 2318 - Status: Yapılacak -> working
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (94ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
warn: Microsoft.EntityFrameworkCore.Query[20504]
      Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/2318 took 518ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Id] = @__p_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (122ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      INSERT INTO [TaskAssignees] ([SubtaskId], [TaskId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p11, @p12, @p13);
[DEBUG] ActivityLogged: ASSIGN on Task 2318 - Assignee:  -> Tunç Şahin
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (91ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/2318 took 568ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/2318 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (93ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [DueDate] = @p0, [UpdatedAt] = @p1
      OUTPUT 1
      WHERE [Id] = @p2;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
[DEBUG] ActivityLogged: UPDATE on Task 2318 - DueDate: Yok -> 14.02.2026
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (114ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/2318 took 323ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (156ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [TaskLabels] ([LabelId], [TaskId])
      VALUES (@p0, @p1);
      UPDATE [Tasks] SET [UpdatedAt] = @p2
      OUTPUT 1
      WHERE [Id] = @p3;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/2318 took 508ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [TaskLabels] ([LabelId], [TaskId])
      VALUES (@p0, @p1);
      UPDATE [Tasks] SET [UpdatedAt] = @p2
      OUTPUT 1
      WHERE [Id] = @p3;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/2318 took 536ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/2318 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=2318, Project=59
 - Access GRANTED: Admin
[DEBUG] PatchTask 2318: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (91ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [Progress] = @p0, [UpdatedAt] = @p1
      OUTPUT 1
      WHERE [Id] = @p2;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (127ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/2318 took 319ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 77ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 89ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 41ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 113ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (43ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (114ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 338ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[Title], [t0].[Status], [t0].[Priority], [t0].[DueDate], [t0].[Progress], [t0].[ProjectId], [t1].[Name] AS [ProjectName], [t1].[Color] AS [ProjectColor], (
          SELECT COUNT(*)
          FROM [Subtasks] AS [s]
          WHERE [t0].[Id] = [s].[TaskId]) AS [SubtaskCount], (
          SELECT COUNT(*)
          FROM [Comments] AS [c]
          WHERE [t0].[Id] = [c].[TaskId]) AS [CommentCount], (
          SELECT COUNT(*)
          FROM [Attachments] AS [a]
          WHERE [t0].[Id] = [a].[TaskId]) AS [AttachmentCount], [t0].[CreatedBy]
      FROM (
          SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[CreatedAt] DESC
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t0]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1] ON [t0].[ProjectId] = [t1].[Id]
      ORDER BY [t0].[CreatedAt] DESC
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (66ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[UserId]
      FROM [TaskAssignees] AS [t]
      WHERE [t].[TaskId] IS NOT NULL AND [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (39ms) [Parameters=[@__taskIds_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[TaskId], [t].[LabelId]
      FROM [TaskLabels] AS [t]
      WHERE [t].[TaskId] IN (
          SELECT [t0].[value]
          FROM OPENJSON(@__taskIds_0) WITH ([value] int '$') AS [t0]
      )
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks took 271ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 61ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 93ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t4].[Id], [t4].[SubtaskId], [t4].[TaskId], [t4].[UserId], [t5].[Id] AS [Id0], [t5].[AssignedBy], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DeletedAt], [t5].[Description], [t5].[DueDate], [t5].[IsDeleted], [t5].[IsPrivate], [t5].[Priority], [t5].[Progress], [t5].[ProjectId], [t5].[StartDate], [t5].[Status], [t5].[TShirtSize], [t5].[Title], [t5].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t4]
              LEFT JOIN [Tasks] AS [t5] ON [t4].[TaskId] = [t5].[Id]
              WHERE [t4].[UserId] = @__userId_0 AND [t5].[Id] IS NOT NULL AND [t5].[IsDeleted] = CAST(0 AS bit)
          ) AS [t2]
          LEFT JOIN [Tasks] AS [t3] ON [t2].[TaskId] = [t3].[Id]
          WHERE [t1].[Key] = [t2].[Key] AND [t3].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t8].[Id], [t8].[SubtaskId], [t8].[TaskId], [t8].[UserId], [t9].[Id] AS [Id0], [t9].[AssignedBy], [t9].[CreatedAt], [t9].[CreatedBy], [t9].[DeletedAt], [t9].[Description], [t9].[DueDate], [t9].[IsDeleted], [t9].[IsPrivate], [t9].[Priority], [t9].[Progress], [t9].[ProjectId], [t9].[StartDate], [t9].[Status], [t9].[TShirtSize], [t9].[Title], [t9].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t8]
              LEFT JOIN [Tasks] AS [t9] ON [t8].[TaskId] = [t9].[Id]
              WHERE [t8].[UserId] = @__userId_0 AND [t9].[Id] IS NOT NULL AND [t9].[IsDeleted] = CAST(0 AS bit)
          ) AS [t6]
          LEFT JOIN [Tasks] AS [t7] ON [t6].[TaskId] = [t7].[Id]
          WHERE [t1].[Key] = [t6].[Key] AND [t7].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t12].[Id], [t12].[SubtaskId], [t12].[TaskId], [t12].[UserId], [t13].[Id] AS [Id0], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t12]
              LEFT JOIN [Tasks] AS [t13] ON [t12].[TaskId] = [t13].[Id]
              WHERE [t12].[UserId] = @__userId_0 AND [t13].[Id] IS NOT NULL AND [t13].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10]
          LEFT JOIN [Tasks] AS [t11] ON [t10].[TaskId] = [t11].[Id]
          WHERE [t1].[Key] = [t10].[Key] AND [t11].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t16].[Id], [t16].[SubtaskId], [t16].[TaskId], [t16].[UserId], [t17].[Id] AS [Id0], [t17].[AssignedBy], [t17].[CreatedAt], [t17].[CreatedBy], [t17].[DeletedAt], [t17].[Description], [t17].[DueDate], [t17].[IsDeleted], [t17].[IsPrivate], [t17].[Priority], [t17].[Progress], [t17].[ProjectId], [t17].[StartDate], [t17].[Status], [t17].[TShirtSize], [t17].[Title], [t17].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t16]
              LEFT JOIN [Tasks] AS [t17] ON [t16].[TaskId] = [t17].[Id]
              WHERE [t16].[UserId] = @__userId_0 AND [t17].[Id] IS NOT NULL AND [t17].[IsDeleted] = CAST(0 AS bit)
          ) AS [t14]
          LEFT JOIN [Tasks] AS [t15] ON [t14].[TaskId] = [t15].[Id]
          WHERE [t1].[Key] = [t14].[Key] AND [t15].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t20].[Id], [t20].[SubtaskId], [t20].[TaskId], [t20].[UserId], [t21].[Id] AS [Id0], [t21].[AssignedBy], [t21].[CreatedAt], [t21].[CreatedBy], [t21].[DeletedAt], [t21].[Description], [t21].[DueDate], [t21].[IsDeleted], [t21].[IsPrivate], [t21].[Priority], [t21].[Progress], [t21].[ProjectId], [t21].[StartDate], [t21].[Status], [t21].[TShirtSize], [t21].[Title], [t21].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t20]
              LEFT JOIN [Tasks] AS [t21] ON [t20].[TaskId] = [t21].[Id]
              WHERE [t20].[UserId] = @__userId_0 AND [t21].[Id] IS NOT NULL AND [t21].[IsDeleted] = CAST(0 AS bit)
          ) AS [t18]
          LEFT JOIN [Tasks] AS [t19] ON [t18].[TaskId] = [t19].[Id]
          WHERE [t1].[Key] = [t18].[Key] AND [t19].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t24].[Id], [t24].[SubtaskId], [t24].[TaskId], [t24].[UserId], [t25].[Id] AS [Id0], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t24]
              LEFT JOIN [Tasks] AS [t25] ON [t24].[TaskId] = [t25].[Id]
              WHERE [t24].[UserId] = @__userId_0 AND [t25].[Id] IS NOT NULL AND [t25].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22]
          LEFT JOIN [Tasks] AS [t23] ON [t22].[TaskId] = [t23].[Id]
          WHERE [t1].[Key] = [t22].[Key] AND [t23].[DueDate] IS NOT NULL AND [t23].[DueDate] < GETUTCDATE() AND ([t23].[Status] <> N'done' OR [t23].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t27].[Progress] AS float))
          FROM (
              SELECT [t28].[Id], [t28].[SubtaskId], [t28].[TaskId], [t28].[UserId], [t29].[Id] AS [Id0], [t29].[AssignedBy], [t29].[CreatedAt], [t29].[CreatedBy], [t29].[DeletedAt], [t29].[Description], [t29].[DueDate], [t29].[IsDeleted], [t29].[IsPrivate], [t29].[Priority], [t29].[Progress], [t29].[ProjectId], [t29].[StartDate], [t29].[Status], [t29].[TShirtSize], [t29].[Title], [t29].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t28]
              LEFT JOIN [Tasks] AS [t29] ON [t28].[TaskId] = [t29].[Id]
              WHERE [t28].[UserId] = @__userId_0 AND [t29].[Id] IS NOT NULL AND [t29].[IsDeleted] = CAST(0 AS bit)
          ) AS [t26]
          LEFT JOIN [Tasks] AS [t27] ON [t26].[TaskId] = [t27].[Id]
          WHERE [t1].[Key] = [t26].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN [Tasks] AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t1]
      GROUP BY [t1].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 37ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 90ms
