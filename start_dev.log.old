dotnet watch ðŸ”¥ Hot reload enabled. For a list of supported edits, see https://aka.ms/dotnet/hot-reload.
dotnet watch ðŸ’¡ Press Ctrl+R to restart.
dotnet watch ðŸ”¨ Building /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj ...
dotnet watch ðŸ”¨ Build succeeded: /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var [/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj]
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1903: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj : warning NU1902: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Properties/launchSettings.json iÃ§indeki baÅŸlatma ayarlarÄ± kullanÄ±lÄ±yor...
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'TaskItem' has a global query filter defined and is the required end of a relationship with the entity 'Attachment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'TaskItem' has a global query filter defined and is the required end of a relationship with the entity 'Comment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Project' has a global query filter defined and is the required end of a relationship with the entity 'ProjectMember'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'TaskItem' has a global query filter defined and is the required end of a relationship with the entity 'Subtask'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'TaskItem' has a global query filter defined and is the required end of a relationship with the entity 'TaskLabel'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Department' has a global query filter defined and is the required end of a relationship with the entity 'UserDepartment'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Project' has a global query filter defined and is the required end of a relationship with the entity 'UserProjectPreference'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
warn: Microsoft.EntityFrameworkCore.Model.Validation[10622]
      Entity 'Department' has a global query filter defined and is the required end of a relationship with the entity 'UserWorkspacePreference'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'Microsoft.IdentityModel.JsonWebTokens' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API/Unity.API.csproj' with message: 'System.IdentityModel.Tokens.Jwt' 7.0.3 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-5mfx-4wcx-rv27 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-m5vv-6r4h-3vj9 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Azure.Identity' 1.7.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-wvxc-855f-jvrv gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Microsoft.Data.SqlClient' 5.1.1 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-98g6-xh36-x2p7 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Microsoft.Extensions.Caching.Memory' 8.0.0 paketinde Ã¶nem derecesi yÃ¼ksek olan bilinen bir https://github.com/advisories/GHSA-qj66-m88j-hmgj gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'Microsoft.IdentityModel.JsonWebTokens' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
dotnet watch âš  msbuild: [Hata] Msbuild failed when processing the file '/Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Unity.Infrastructure.csproj' with message: 'System.IdentityModel.Tokens.Jwt' 6.24.0 paketinde Ã¶nem derecesi orta olan bilinen bir https://github.com/advisories/GHSA-59j7-ghrg-fj52 gÃ¼venlik aÃ§Ä±ÄŸÄ± var
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF OBJECT_ID('dbo.TaskAssignees', 'U') IS NOT NULL DELETE FROM TaskAssignees WHERE TaskId IS NULL AND SubtaskId IS NULL
DEBUG: Zombie TaskAssignees cleaned up.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (70ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (78ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (146ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT 1
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (81ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: Microsoft.EntityFrameworkCore.Migrations[20405]
      No migrations were applied. The database is already up to date.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('Departments', 'IsMaster') IS NULL BEGIN ALTER TABLE Departments ADD IsMaster BIT NOT NULL DEFAULT 0 END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('Departments', 'CreatedAt') IS NULL BEGIN ALTER TABLE Departments ADD CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE() END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('Subtasks', 'Position') IS NULL BEGIN ALTER TABLE Subtasks ADD Position INT NOT NULL DEFAULT 0 END
DEBUG: Subtasks.Position column verified/added.
DEBUG: Checking/Creating UserColumnPreferences table...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (98ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.UserColumnPreferences', 'U') IS NULL
                          BEGIN
                              CREATE TABLE UserColumnPreferences (
                                  Id INT IDENTITY(1,1) PRIMARY KEY,
                                  UserId INT NOT NULL,
                                  Preferences NVARCHAR(MAX) DEFAULT '{}',
                                  CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE(),
                                  UpdatedAt DATETIME2 NULL
                              );
                              CREATE INDEX IX_UserColumnPreferences_UserId ON UserColumnPreferences(UserId);
                          END
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('UserColumnPreferences', 'SidebarPreferences') IS NULL BEGIN ALTER TABLE UserColumnPreferences ADD SidebarPreferences NVARCHAR(MAX) NOT NULL DEFAULT '{}' END
DEBUG: Table creation and migration logic executed.
DEBUG: Checking/Creating UserWorkspacePreferences table...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.UserWorkspacePreferences', 'U') IS NULL
                          BEGIN
                              CREATE TABLE UserWorkspacePreferences (
                                  Id INT IDENTITY(1,1) PRIMARY KEY,
                                  UserId INT NOT NULL,
                                  DepartmentId INT NOT NULL,
                                  SortOrder INT NOT NULL DEFAULT 0,
                                  IsVisible BIT NOT NULL DEFAULT 1,
                                  IsCollapsed BIT NOT NULL DEFAULT 0,
                                  CreatedAt DATETIME2 NOT NULL DEFAULT GETUTCDATE(),
                                  UpdatedAt DATETIME2 NULL,
                                  CONSTRAINT FK_UserWorkspacePreferences_User FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE,
                                  CONSTRAINT FK_UserWorkspacePreferences_Department FOREIGN KEY (DepartmentId) REFERENCES Departments(Id) ON DELETE CASCADE
                              );
                              CREATE INDEX IX_UserWorkspacePreferences_UserId ON UserWorkspacePreferences(UserId);
                              CREATE UNIQUE INDEX IX_UserWorkspacePreferences_UserDept ON UserWorkspacePreferences(UserId, DepartmentId);
                          END
DEBUG: Migrating SidebarPreferences JSON to UserWorkspacePreferences...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[CreatedAt], [u].[Preferences], [u].[SidebarPreferences], [u].[UpdatedAt], [u].[UserId]
      FROM [UserColumnPreferences] AS [u]
      WHERE [u].[SidebarPreferences] <> N'{}'
DEBUG: UserWorkspacePreferences migration completed.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      IF COL_LENGTH('MagicLinks', 'UsedAt') IS NULL BEGIN ALTER TABLE MagicLinks ADD UsedAt DATETIME2 NULL END
DEBUG: MagicLinks.UsedAt column verified/added.
DEBUG: Creating/Updating vw_DashboardTasks View...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_DashboardTasks', 'V') IS NOT NULL
                              DROP VIEW dbo.vw_DashboardTasks;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (176ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
      CREATE VIEW vw_DashboardTasks AS
      SELECT 
          t.Id AS TaskId,
          t.Title,
          t.Status,
          t.Priority,
          t.Progress,
          t.DueDate,
          t.StartDate,
          t.UpdatedAt,
          t.ProjectId,
          p.Name AS ProjectName,
          p.Color AS ProjectColor,
          p.DepartmentId,
          d.Name AS DepartmentName,
          d.Color AS DepartmentColor,
          ta.UserId AS AssigneeId
      FROM Tasks t
      INNER JOIN Projects p ON t.ProjectId = p.Id AND p.IsDeleted = 0
      INNER JOIN Departments d ON p.DepartmentId = d.Id AND d.IsDeleted = 0
      LEFT JOIN TaskAssignees ta ON t.Id = ta.TaskId
      WHERE t.IsDeleted = 0;
DEBUG: vw_DashboardTasks View Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_UserDashboardStats', 'V') IS NOT NULL DROP VIEW dbo.vw_UserDashboardStats;
                          EXEC('
                          CREATE VIEW dbo.vw_UserDashboardStats AS
                          SELECT 
                              u.Id as UserId,
                              COUNT(t.Id) as TotalTasks,
                              SUM(CASE WHEN t.Status = ''done'' THEN 1 ELSE 0 END) as DoneTasks,
                              SUM(CASE WHEN t.Status = ''todo'' THEN 1 ELSE 0 END) as TodoTasks,
                              SUM(CASE WHEN t.Status IN (''working'', ''in_progress'') THEN 1 ELSE 0 END) as InProgressTasks,
                              SUM(CASE WHEN t.Status = ''stuck'' THEN 1 ELSE 0 END) as StuckTasks,
                              SUM(CASE WHEN t.Status = ''review'' THEN 1 ELSE 0 END) as ReviewTasks,
                              SUM(CASE WHEN t.DueDate < GETDATE() AND t.Status != ''done'' THEN 1 ELSE 0 END) as OverdueTasks,
                              COALESCE(AVG(t.Progress), 0) as AverageProgress
                          FROM Users u
                          LEFT JOIN TaskAssignees ta ON u.Id = ta.UserId
                          LEFT JOIN Tasks t ON ta.TaskId = t.Id AND t.IsDeleted = 0
                          WHERE u.IsDeleted = 0
                          GROUP BY u.Id
                          ');
DEBUG: vw_UserDashboardStats View Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF OBJECT_ID('dbo.vw_ProjectList', 'V') IS NOT NULL DROP VIEW dbo.vw_ProjectList;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
      CREATE VIEW vw_ProjectList AS
      SELECT 
          p.Id AS Id,
          p.Id AS ProjectId,
          p.Name,
          p.Description,
          p.Icon,
          p.Color,
          p.Status,
          p.Priority,
          p.IsPrivate,
          p.Owner,
          p.DepartmentId,
          p.CreatedAt,
          p.UpdatedAt,
          d.Name AS DepartmentName,
          d.Color AS DepartmentColor,
          (SELECT COUNT(*) FROM Tasks t WHERE t.ProjectId = p.Id AND t.IsDeleted = 0) AS TaskCount,
          (SELECT COUNT(*) FROM Tasks t WHERE t.ProjectId = p.Id AND t.IsDeleted = 0 AND t.Status = 'done') AS CompletedTaskCount,
          (SELECT COUNT(*) FROM ProjectMembers pm WHERE pm.ProjectId = p.Id) AS MemberCount
      FROM Projects p
      INNER JOIN Departments d ON p.DepartmentId = d.Id AND d.IsDeleted = 0
      WHERE p.IsDeleted = 0;
DEBUG: vw_ProjectList View Created Successfully.
DEBUG: Creating Performance Indexes...
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (89ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_ProjectId_IsDeleted' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_ProjectId_IsDeleted 
                          ON Tasks (ProjectId, IsDeleted)
                          INCLUDE (Title, Status, Priority, DueDate, Progress, CreatedAt, CreatedBy)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_Status' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_Status ON Tasks (Status)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (80ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Tasks_CreatedAt' AND object_id = OBJECT_ID('Tasks'))
                          CREATE NONCLUSTERED INDEX IX_Tasks_CreatedAt ON Tasks (CreatedAt DESC)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (120ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_TaskAssignees_UserId_TaskId' AND object_id = OBJECT_ID('TaskAssignees'))
                          CREATE NONCLUSTERED INDEX IX_TaskAssignees_UserId_TaskId ON TaskAssignees (UserId, TaskId)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (90ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_TaskLabels_TaskId' AND object_id = OBJECT_ID('TaskLabels'))
                          CREATE NONCLUSTERED INDEX IX_TaskLabels_TaskId ON TaskLabels (TaskId)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (88ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Users_IsDeleted' AND object_id = OBJECT_ID('Users'))
                          CREATE NONCLUSTERED INDEX IX_Users_IsDeleted ON Users (IsDeleted) WHERE IsDeleted = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      
                          IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Projects_IsDeleted_DepartmentId' AND object_id = OBJECT_ID('Projects'))
                          CREATE NONCLUSTERED INDEX IX_Projects_IsDeleted_DepartmentId ON Projects (IsDeleted, DepartmentId)
      
                      -- 8. Subtasks: CRITICAL for List View Counts
                      IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Subtasks_TaskId' AND object_id = OBJECT_ID('Subtasks'))
                          CREATE NONCLUSTERED INDEX IX_Subtasks_TaskId ON Subtasks (TaskId)
      
                      -- 9. Comments: CRITICAL for List View Counts
                      IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = 'IX_Comments_TaskId' AND object_id = OBJECT_ID('Comments'))
                          CREATE NONCLUSTERED INDEX IX_Comments_TaskId ON Comments (TaskId)
DEBUG: Performance Indexes Created Successfully.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Avatar] IS NOT NULL AND ([u].[Avatar] LIKE N'%notionists%' OR [u].[Avatar] LIKE N'%avataaars%')
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Budget], [p].[Color], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[DepartmentId], [p].[Description], [p].[EndDate], [p].[Icon], [p].[IsDeleted], [p].[IsPrivate], [p].[Name], [p].[Owner], [p].[Priority], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
      FROM [Projects] AS [p]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
      FROM [Departments] AS [d]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (82ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Budget], [p].[Color], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[DepartmentId], [p].[Description], [p].[EndDate], [p].[Icon], [p].[IsDeleted], [p].[IsPrivate], [p].[Name], [p].[Owner], [p].[Priority], [p].[StartDate], [p].[Status], [p].[UpdatedAt]
      FROM [Projects] AS [p]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (78ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
warn: Microsoft.AspNetCore.Server.Kestrel[0]
      Overriding address(es) 'http://localhost:8080'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://0.0.0.0:8080
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.API
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/auth/me took 1ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/auth/me took 1ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/auth/me took 70ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/auth/me took 2ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /favicon.ico took 0ms
warn: Microsoft.EntityFrameworkCore.Query[10103]
      The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (127ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (45ms) [Parameters=[@__to_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Email] = @__to_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [MagicLinks] ([CreatedAt], [ExpiresAt], [IsUsed], [TargetUrl], [Token], [UsedAt], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[ExpiresAt], [m].[IsUsed], [m].[TargetUrl], [m].[Token], [m].[UsedAt], [m].[UserId]
      FROM [MagicLinks] AS [m]
      WHERE [m].[UserId] = @__user_Id_0
      ORDER BY [m].[CreatedAt] DESC
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] POST /api/auth/test-email-trigger took 2639ms
dotnet watch âŒš File updated: /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Services/SmtpEmailService.cs
dotnet watch ðŸ”¥ [Unity.API (net10.0)] Hot reload succeeded.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (106ms) [Parameters=[@__to_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
      FROM [Users] AS [u]
      WHERE [u].[Email] = @__to_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      INSERT INTO [MagicLinks] ([CreatedAt], [ExpiresAt], [IsUsed], [TargetUrl], [Token], [UsedAt], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[ExpiresAt], [m].[IsUsed], [m].[TargetUrl], [m].[Token], [m].[UsedAt], [m].[UserId]
      FROM [MagicLinks] AS [m]
      WHERE [m].[UserId] = @__user_Id_0
      ORDER BY [m].[CreatedAt] DESC
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] POST /api/auth/test-email-trigger took 2288ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/auth/login took 19ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (125ms) [Parameters=[@__loginIdentifier_0='?' (Size = 450), @__loginIdentifier_0_1='?' (Size = 4000), @__ToLower_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Email] = @__loginIdentifier_0 OR [u].[Username] = @__loginIdentifier_0_1 OR REPLACE(LOWER([u].[FullName]), N' ', N'.') = @__ToLower_1
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (44ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Preferences], [u].[SidebarPreferences], [u].[UpdatedAt], [u].[UserId]
      FROM [UserColumnPreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (151ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[DepartmentId], [u].[SortOrder], [u].[IsVisible], [u].[IsCollapsed]
      FROM [UserWorkspacePreferences] AS [u]
      WHERE [u].[UserId] = @__user_Id_0
      ORDER BY [u].[SortOrder]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] POST /api/auth/login took 1197ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/projects took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /appHub/negotiate took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/users took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/departments took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] POST /appHub/negotiate took 25ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (175ms) [Parameters=[@__currentUser_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [p].[ProjectId]
      FROM [ProjectMembers] AS [p]
      WHERE [p].[UserId] = @__currentUser_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (177ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p].[Id], [p].[Name], [p].[Description], [p].[DepartmentId], [p].[Owner], [p].[Color], [p].[Status], [p].[Priority], [p].[Icon], [p].[IsPrivate], [p].[CreatedAt], [p].[UpdatedAt]
      FROM [Projects] AS [p]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [p0].[UserId], [p].[Id]
      FROM [Projects] AS [p]
      INNER JOIN [ProjectMembers] AS [p0] ON [p].[Id] = [p0].[ProjectId]
      WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [p].[Id]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/projects took 544ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Color], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[HeadOfDepartment], [t].[IsDeleted], [t].[IsMaster], [t].[Name]
      FROM [UserDepartments] AS [u]
      INNER JOIN (
          SELECT [d].[Id], [d].[Color], [d].[CreatedAt], [d].[CreatedBy], [d].[DeletedAt], [d].[Description], [d].[HeadOfDepartment], [d].[IsDeleted], [d].[IsMaster], [d].[Name]
          FROM [Departments] AS [d]
          WHERE [d].[IsDeleted] = CAST(0 AS bit)
      ) AS [t] ON [u].[DepartmentId] = [t].[Id]
      WHERE [u].[UserId] = @__userId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/tasks took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/dashboard/stats took 1ms
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/departments took 708ms
warn: Microsoft.EntityFrameworkCore.Query[10103]
      The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (146ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u].[Id], [u].[FullName], [u].[Email], [u].[Username], [u].[Role], [u].[Avatar], [u].[Color], [u].[JobTitle], [u].[Gender], [u].[CreatedAt]
      FROM [Users] AS [u]
      WHERE [u].[IsDeleted] = CAST(0 AS bit)
      ORDER BY [u].[FullName], [u].[Id]
      OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [u0].[DepartmentId], [t].[Id]
      FROM (
          SELECT [u].[Id], [u].[FullName]
          FROM [Users] AS [u]
          WHERE [u].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [u].[FullName]
          OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
      ) AS [t]
      INNER JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[FullName], [t].[Id]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/users took 856ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/labels took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 304ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (131ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
      FROM [Labels] AS [l]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/labels took 147ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT COUNT(*)
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
          SELECT 1
          FROM [TaskAssignees] AS [t0]
          WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[Title], [t1].[Status], [t1].[Priority], [t1].[DueDate], [t1].[Progress], [t1].[ProjectId], [t2].[Name], [t2].[Color], [t2].[Id], [t3].[Id], [t3].[FullName], [t3].[Avatar], [t3].[Id0]
      FROM (
          SELECT [t].[Id], [t].[DueDate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[Status], [t].[Title]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND EXISTS (
              SELECT 1
              FROM [TaskAssignees] AS [t0]
              WHERE [t].[Id] = [t0].[TaskId] AND [t0].[UserId] = @__userId_0) AND [t].[IsDeleted] = CAST(0 AS bit)
          ORDER BY [t].[Priority] DESC, [t].[DueDate]
          OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
      ) AS [t1]
      INNER JOIN (
          SELECT [p].[Id], [p].[Color], [p].[Name]
          FROM [Projects] AS [p]
          WHERE [p].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2] ON [t1].[ProjectId] = [t2].[Id]
      LEFT JOIN (
          SELECT [u].[Id], [u].[FullName], [u].[Avatar], [t4].[Id] AS [Id0], [t4].[TaskId]
          FROM [TaskAssignees] AS [t4]
          INNER JOIN [Users] AS [u] ON [t4].[UserId] = [u].[Id]
      ) AS [t3] ON [t1].[Id] = [t3].[TaskId]
      ORDER BY [t1].[Priority] DESC, [t1].[DueDate], [t1].[Id], [t2].[Id], [t3].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/tasks took 124ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t5].[Id], [t5].[SubtaskId], [t5].[TaskId], [t5].[UserId], [t6].[Id] AS [Id0], [t6].[AssignedBy], [t6].[CreatedAt], [t6].[CreatedBy], [t6].[DeletedAt], [t6].[Description], [t6].[DueDate], [t6].[IsDeleted], [t6].[IsPrivate], [t6].[Priority], [t6].[Progress], [t6].[ProjectId], [t6].[StartDate], [t6].[Status], [t6].[TShirtSize], [t6].[Title], [t6].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t5]
              LEFT JOIN (
                  SELECT [t7].[Id], [t7].[AssignedBy], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DeletedAt], [t7].[Description], [t7].[DueDate], [t7].[IsDeleted], [t7].[IsPrivate], [t7].[Priority], [t7].[Progress], [t7].[ProjectId], [t7].[StartDate], [t7].[Status], [t7].[TShirtSize], [t7].[Title], [t7].[UpdatedAt]
                  FROM [Tasks] AS [t7]
                  WHERE [t7].[IsDeleted] = CAST(0 AS bit)
              ) AS [t6] ON [t5].[TaskId] = [t6].[Id]
              WHERE [t5].[UserId] = @__userId_0 AND [t6].[Id] IS NOT NULL AND [t6].[IsDeleted] = CAST(0 AS bit)
          ) AS [t3]
          LEFT JOIN (
              SELECT [t8].[Id], [t8].[AssignedBy], [t8].[CreatedAt], [t8].[CreatedBy], [t8].[DeletedAt], [t8].[Description], [t8].[DueDate], [t8].[IsDeleted], [t8].[IsPrivate], [t8].[Priority], [t8].[Progress], [t8].[ProjectId], [t8].[StartDate], [t8].[Status], [t8].[TShirtSize], [t8].[Title], [t8].[UpdatedAt]
              FROM [Tasks] AS [t8]
              WHERE [t8].[IsDeleted] = CAST(0 AS bit)
          ) AS [t4] ON [t3].[TaskId] = [t4].[Id]
          WHERE [t2].[Key] = [t3].[Key] AND [t4].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t11].[Id], [t11].[SubtaskId], [t11].[TaskId], [t11].[UserId], [t12].[Id] AS [Id0], [t12].[AssignedBy], [t12].[CreatedAt], [t12].[CreatedBy], [t12].[DeletedAt], [t12].[Description], [t12].[DueDate], [t12].[IsDeleted], [t12].[IsPrivate], [t12].[Priority], [t12].[Progress], [t12].[ProjectId], [t12].[StartDate], [t12].[Status], [t12].[TShirtSize], [t12].[Title], [t12].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t11]
              LEFT JOIN (
                  SELECT [t13].[Id], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt]
                  FROM [Tasks] AS [t13]
                  WHERE [t13].[IsDeleted] = CAST(0 AS bit)
              ) AS [t12] ON [t11].[TaskId] = [t12].[Id]
              WHERE [t11].[UserId] = @__userId_0 AND [t12].[Id] IS NOT NULL AND [t12].[IsDeleted] = CAST(0 AS bit)
          ) AS [t9]
          LEFT JOIN (
              SELECT [t14].[Id], [t14].[AssignedBy], [t14].[CreatedAt], [t14].[CreatedBy], [t14].[DeletedAt], [t14].[Description], [t14].[DueDate], [t14].[IsDeleted], [t14].[IsPrivate], [t14].[Priority], [t14].[Progress], [t14].[ProjectId], [t14].[StartDate], [t14].[Status], [t14].[TShirtSize], [t14].[Title], [t14].[UpdatedAt]
              FROM [Tasks] AS [t14]
              WHERE [t14].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10] ON [t9].[TaskId] = [t10].[Id]
          WHERE [t2].[Key] = [t9].[Key] AND [t10].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t17].[Id], [t17].[SubtaskId], [t17].[TaskId], [t17].[UserId], [t18].[Id] AS [Id0], [t18].[AssignedBy], [t18].[CreatedAt], [t18].[CreatedBy], [t18].[DeletedAt], [t18].[Description], [t18].[DueDate], [t18].[IsDeleted], [t18].[IsPrivate], [t18].[Priority], [t18].[Progress], [t18].[ProjectId], [t18].[StartDate], [t18].[Status], [t18].[TShirtSize], [t18].[Title], [t18].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t17]
              LEFT JOIN (
                  SELECT [t19].[Id], [t19].[AssignedBy], [t19].[CreatedAt], [t19].[CreatedBy], [t19].[DeletedAt], [t19].[Description], [t19].[DueDate], [t19].[IsDeleted], [t19].[IsPrivate], [t19].[Priority], [t19].[Progress], [t19].[ProjectId], [t19].[StartDate], [t19].[Status], [t19].[TShirtSize], [t19].[Title], [t19].[UpdatedAt]
                  FROM [Tasks] AS [t19]
                  WHERE [t19].[IsDeleted] = CAST(0 AS bit)
              ) AS [t18] ON [t17].[TaskId] = [t18].[Id]
              WHERE [t17].[UserId] = @__userId_0 AND [t18].[Id] IS NOT NULL AND [t18].[IsDeleted] = CAST(0 AS bit)
          ) AS [t15]
          LEFT JOIN (
              SELECT [t20].[Id], [t20].[AssignedBy], [t20].[CreatedAt], [t20].[CreatedBy], [t20].[DeletedAt], [t20].[Description], [t20].[DueDate], [t20].[IsDeleted], [t20].[IsPrivate], [t20].[Priority], [t20].[Progress], [t20].[ProjectId], [t20].[StartDate], [t20].[Status], [t20].[TShirtSize], [t20].[Title], [t20].[UpdatedAt]
              FROM [Tasks] AS [t20]
              WHERE [t20].[IsDeleted] = CAST(0 AS bit)
          ) AS [t16] ON [t15].[TaskId] = [t16].[Id]
          WHERE [t2].[Key] = [t15].[Key] AND [t16].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t23].[Id], [t23].[SubtaskId], [t23].[TaskId], [t23].[UserId], [t24].[Id] AS [Id0], [t24].[AssignedBy], [t24].[CreatedAt], [t24].[CreatedBy], [t24].[DeletedAt], [t24].[Description], [t24].[DueDate], [t24].[IsDeleted], [t24].[IsPrivate], [t24].[Priority], [t24].[Progress], [t24].[ProjectId], [t24].[StartDate], [t24].[Status], [t24].[TShirtSize], [t24].[Title], [t24].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t23]
              LEFT JOIN (
                  SELECT [t25].[Id], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt]
                  FROM [Tasks] AS [t25]
                  WHERE [t25].[IsDeleted] = CAST(0 AS bit)
              ) AS [t24] ON [t23].[TaskId] = [t24].[Id]
              WHERE [t23].[UserId] = @__userId_0 AND [t24].[Id] IS NOT NULL AND [t24].[IsDeleted] = CAST(0 AS bit)
          ) AS [t21]
          LEFT JOIN (
              SELECT [t26].[Id], [t26].[AssignedBy], [t26].[CreatedAt], [t26].[CreatedBy], [t26].[DeletedAt], [t26].[Description], [t26].[DueDate], [t26].[IsDeleted], [t26].[IsPrivate], [t26].[Priority], [t26].[Progress], [t26].[ProjectId], [t26].[StartDate], [t26].[Status], [t26].[TShirtSize], [t26].[Title], [t26].[UpdatedAt]
              FROM [Tasks] AS [t26]
              WHERE [t26].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22] ON [t21].[TaskId] = [t22].[Id]
          WHERE [t2].[Key] = [t21].[Key] AND [t22].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t29].[Id], [t29].[SubtaskId], [t29].[TaskId], [t29].[UserId], [t30].[Id] AS [Id0], [t30].[AssignedBy], [t30].[CreatedAt], [t30].[CreatedBy], [t30].[DeletedAt], [t30].[Description], [t30].[DueDate], [t30].[IsDeleted], [t30].[IsPrivate], [t30].[Priority], [t30].[Progress], [t30].[ProjectId], [t30].[StartDate], [t30].[Status], [t30].[TShirtSize], [t30].[Title], [t30].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t29]
              LEFT JOIN (
                  SELECT [t31].[Id], [t31].[AssignedBy], [t31].[CreatedAt], [t31].[CreatedBy], [t31].[DeletedAt], [t31].[Description], [t31].[DueDate], [t31].[IsDeleted], [t31].[IsPrivate], [t31].[Priority], [t31].[Progress], [t31].[ProjectId], [t31].[StartDate], [t31].[Status], [t31].[TShirtSize], [t31].[Title], [t31].[UpdatedAt]
                  FROM [Tasks] AS [t31]
                  WHERE [t31].[IsDeleted] = CAST(0 AS bit)
              ) AS [t30] ON [t29].[TaskId] = [t30].[Id]
              WHERE [t29].[UserId] = @__userId_0 AND [t30].[Id] IS NOT NULL AND [t30].[IsDeleted] = CAST(0 AS bit)
          ) AS [t27]
          LEFT JOIN (
              SELECT [t32].[Id], [t32].[AssignedBy], [t32].[CreatedAt], [t32].[CreatedBy], [t32].[DeletedAt], [t32].[Description], [t32].[DueDate], [t32].[IsDeleted], [t32].[IsPrivate], [t32].[Priority], [t32].[Progress], [t32].[ProjectId], [t32].[StartDate], [t32].[Status], [t32].[TShirtSize], [t32].[Title], [t32].[UpdatedAt]
              FROM [Tasks] AS [t32]
              WHERE [t32].[IsDeleted] = CAST(0 AS bit)
          ) AS [t28] ON [t27].[TaskId] = [t28].[Id]
          WHERE [t2].[Key] = [t27].[Key] AND [t28].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t35].[Id], [t35].[SubtaskId], [t35].[TaskId], [t35].[UserId], [t36].[Id] AS [Id0], [t36].[AssignedBy], [t36].[CreatedAt], [t36].[CreatedBy], [t36].[DeletedAt], [t36].[Description], [t36].[DueDate], [t36].[IsDeleted], [t36].[IsPrivate], [t36].[Priority], [t36].[Progress], [t36].[ProjectId], [t36].[StartDate], [t36].[Status], [t36].[TShirtSize], [t36].[Title], [t36].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t35]
              LEFT JOIN (
                  SELECT [t37].[Id], [t37].[AssignedBy], [t37].[CreatedAt], [t37].[CreatedBy], [t37].[DeletedAt], [t37].[Description], [t37].[DueDate], [t37].[IsDeleted], [t37].[IsPrivate], [t37].[Priority], [t37].[Progress], [t37].[ProjectId], [t37].[StartDate], [t37].[Status], [t37].[TShirtSize], [t37].[Title], [t37].[UpdatedAt]
                  FROM [Tasks] AS [t37]
                  WHERE [t37].[IsDeleted] = CAST(0 AS bit)
              ) AS [t36] ON [t35].[TaskId] = [t36].[Id]
              WHERE [t35].[UserId] = @__userId_0 AND [t36].[Id] IS NOT NULL AND [t36].[IsDeleted] = CAST(0 AS bit)
          ) AS [t33]
          LEFT JOIN (
              SELECT [t38].[Id], [t38].[AssignedBy], [t38].[CreatedAt], [t38].[CreatedBy], [t38].[DeletedAt], [t38].[Description], [t38].[DueDate], [t38].[IsDeleted], [t38].[IsPrivate], [t38].[Priority], [t38].[Progress], [t38].[ProjectId], [t38].[StartDate], [t38].[Status], [t38].[TShirtSize], [t38].[Title], [t38].[UpdatedAt]
              FROM [Tasks] AS [t38]
              WHERE [t38].[IsDeleted] = CAST(0 AS bit)
          ) AS [t34] ON [t33].[TaskId] = [t34].[Id]
          WHERE [t2].[Key] = [t33].[Key] AND [t34].[DueDate] IS NOT NULL AND [t34].[DueDate] < GETUTCDATE() AND ([t34].[Status] <> N'done' OR [t34].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t40].[Progress] AS float))
          FROM (
              SELECT [t41].[Id], [t41].[SubtaskId], [t41].[TaskId], [t41].[UserId], [t42].[Id] AS [Id0], [t42].[AssignedBy], [t42].[CreatedAt], [t42].[CreatedBy], [t42].[DeletedAt], [t42].[Description], [t42].[DueDate], [t42].[IsDeleted], [t42].[IsPrivate], [t42].[Priority], [t42].[Progress], [t42].[ProjectId], [t42].[StartDate], [t42].[Status], [t42].[TShirtSize], [t42].[Title], [t42].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t41]
              LEFT JOIN (
                  SELECT [t43].[Id], [t43].[AssignedBy], [t43].[CreatedAt], [t43].[CreatedBy], [t43].[DeletedAt], [t43].[Description], [t43].[DueDate], [t43].[IsDeleted], [t43].[IsPrivate], [t43].[Priority], [t43].[Progress], [t43].[ProjectId], [t43].[StartDate], [t43].[Status], [t43].[TShirtSize], [t43].[Title], [t43].[UpdatedAt]
                  FROM [Tasks] AS [t43]
                  WHERE [t43].[IsDeleted] = CAST(0 AS bit)
              ) AS [t42] ON [t41].[TaskId] = [t42].[Id]
              WHERE [t41].[UserId] = @__userId_0 AND [t42].[Id] IS NOT NULL AND [t42].[IsDeleted] = CAST(0 AS bit)
          ) AS [t39]
          LEFT JOIN (
              SELECT [t44].[Id], [t44].[AssignedBy], [t44].[CreatedAt], [t44].[CreatedBy], [t44].[DeletedAt], [t44].[Description], [t44].[DueDate], [t44].[IsDeleted], [t44].[IsPrivate], [t44].[Priority], [t44].[Progress], [t44].[ProjectId], [t44].[StartDate], [t44].[Status], [t44].[TShirtSize], [t44].[Title], [t44].[UpdatedAt]
              FROM [Tasks] AS [t44]
              WHERE [t44].[IsDeleted] = CAST(0 AS bit)
          ) AS [t40] ON [t39].[TaskId] = [t40].[Id]
          WHERE [t2].[Key] = [t39].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN (
              SELECT [t1].[Id], [t1].[IsDeleted]
              FROM [Tasks] AS [t1]
              WHERE [t1].[IsDeleted] = CAST(0 AS bit)
          ) AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2]
      GROUP BY [t2].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 489ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (134ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) @__userId_0 AS [UserId], COUNT(*) AS [TotalTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t5].[Id], [t5].[SubtaskId], [t5].[TaskId], [t5].[UserId], [t6].[Id] AS [Id0], [t6].[AssignedBy], [t6].[CreatedAt], [t6].[CreatedBy], [t6].[DeletedAt], [t6].[Description], [t6].[DueDate], [t6].[IsDeleted], [t6].[IsPrivate], [t6].[Priority], [t6].[Progress], [t6].[ProjectId], [t6].[StartDate], [t6].[Status], [t6].[TShirtSize], [t6].[Title], [t6].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t5]
              LEFT JOIN (
                  SELECT [t7].[Id], [t7].[AssignedBy], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[DeletedAt], [t7].[Description], [t7].[DueDate], [t7].[IsDeleted], [t7].[IsPrivate], [t7].[Priority], [t7].[Progress], [t7].[ProjectId], [t7].[StartDate], [t7].[Status], [t7].[TShirtSize], [t7].[Title], [t7].[UpdatedAt]
                  FROM [Tasks] AS [t7]
                  WHERE [t7].[IsDeleted] = CAST(0 AS bit)
              ) AS [t6] ON [t5].[TaskId] = [t6].[Id]
              WHERE [t5].[UserId] = @__userId_0 AND [t6].[Id] IS NOT NULL AND [t6].[IsDeleted] = CAST(0 AS bit)
          ) AS [t3]
          LEFT JOIN (
              SELECT [t8].[Id], [t8].[AssignedBy], [t8].[CreatedAt], [t8].[CreatedBy], [t8].[DeletedAt], [t8].[Description], [t8].[DueDate], [t8].[IsDeleted], [t8].[IsPrivate], [t8].[Priority], [t8].[Progress], [t8].[ProjectId], [t8].[StartDate], [t8].[Status], [t8].[TShirtSize], [t8].[Title], [t8].[UpdatedAt]
              FROM [Tasks] AS [t8]
              WHERE [t8].[IsDeleted] = CAST(0 AS bit)
          ) AS [t4] ON [t3].[TaskId] = [t4].[Id]
          WHERE [t2].[Key] = [t3].[Key] AND [t4].[Status] = N'done') AS [CompletedTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t11].[Id], [t11].[SubtaskId], [t11].[TaskId], [t11].[UserId], [t12].[Id] AS [Id0], [t12].[AssignedBy], [t12].[CreatedAt], [t12].[CreatedBy], [t12].[DeletedAt], [t12].[Description], [t12].[DueDate], [t12].[IsDeleted], [t12].[IsPrivate], [t12].[Priority], [t12].[Progress], [t12].[ProjectId], [t12].[StartDate], [t12].[Status], [t12].[TShirtSize], [t12].[Title], [t12].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t11]
              LEFT JOIN (
                  SELECT [t13].[Id], [t13].[AssignedBy], [t13].[CreatedAt], [t13].[CreatedBy], [t13].[DeletedAt], [t13].[Description], [t13].[DueDate], [t13].[IsDeleted], [t13].[IsPrivate], [t13].[Priority], [t13].[Progress], [t13].[ProjectId], [t13].[StartDate], [t13].[Status], [t13].[TShirtSize], [t13].[Title], [t13].[UpdatedAt]
                  FROM [Tasks] AS [t13]
                  WHERE [t13].[IsDeleted] = CAST(0 AS bit)
              ) AS [t12] ON [t11].[TaskId] = [t12].[Id]
              WHERE [t11].[UserId] = @__userId_0 AND [t12].[Id] IS NOT NULL AND [t12].[IsDeleted] = CAST(0 AS bit)
          ) AS [t9]
          LEFT JOIN (
              SELECT [t14].[Id], [t14].[AssignedBy], [t14].[CreatedAt], [t14].[CreatedBy], [t14].[DeletedAt], [t14].[Description], [t14].[DueDate], [t14].[IsDeleted], [t14].[IsPrivate], [t14].[Priority], [t14].[Progress], [t14].[ProjectId], [t14].[StartDate], [t14].[Status], [t14].[TShirtSize], [t14].[Title], [t14].[UpdatedAt]
              FROM [Tasks] AS [t14]
              WHERE [t14].[IsDeleted] = CAST(0 AS bit)
          ) AS [t10] ON [t9].[TaskId] = [t10].[Id]
          WHERE [t2].[Key] = [t9].[Key] AND [t10].[Status] = N'todo') AS [TodoTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t17].[Id], [t17].[SubtaskId], [t17].[TaskId], [t17].[UserId], [t18].[Id] AS [Id0], [t18].[AssignedBy], [t18].[CreatedAt], [t18].[CreatedBy], [t18].[DeletedAt], [t18].[Description], [t18].[DueDate], [t18].[IsDeleted], [t18].[IsPrivate], [t18].[Priority], [t18].[Progress], [t18].[ProjectId], [t18].[StartDate], [t18].[Status], [t18].[TShirtSize], [t18].[Title], [t18].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t17]
              LEFT JOIN (
                  SELECT [t19].[Id], [t19].[AssignedBy], [t19].[CreatedAt], [t19].[CreatedBy], [t19].[DeletedAt], [t19].[Description], [t19].[DueDate], [t19].[IsDeleted], [t19].[IsPrivate], [t19].[Priority], [t19].[Progress], [t19].[ProjectId], [t19].[StartDate], [t19].[Status], [t19].[TShirtSize], [t19].[Title], [t19].[UpdatedAt]
                  FROM [Tasks] AS [t19]
                  WHERE [t19].[IsDeleted] = CAST(0 AS bit)
              ) AS [t18] ON [t17].[TaskId] = [t18].[Id]
              WHERE [t17].[UserId] = @__userId_0 AND [t18].[Id] IS NOT NULL AND [t18].[IsDeleted] = CAST(0 AS bit)
          ) AS [t15]
          LEFT JOIN (
              SELECT [t20].[Id], [t20].[AssignedBy], [t20].[CreatedAt], [t20].[CreatedBy], [t20].[DeletedAt], [t20].[Description], [t20].[DueDate], [t20].[IsDeleted], [t20].[IsPrivate], [t20].[Priority], [t20].[Progress], [t20].[ProjectId], [t20].[StartDate], [t20].[Status], [t20].[TShirtSize], [t20].[Title], [t20].[UpdatedAt]
              FROM [Tasks] AS [t20]
              WHERE [t20].[IsDeleted] = CAST(0 AS bit)
          ) AS [t16] ON [t15].[TaskId] = [t16].[Id]
          WHERE [t2].[Key] = [t15].[Key] AND [t16].[Status] IN (N'working', N'in_progress')) AS [InProgressTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t23].[Id], [t23].[SubtaskId], [t23].[TaskId], [t23].[UserId], [t24].[Id] AS [Id0], [t24].[AssignedBy], [t24].[CreatedAt], [t24].[CreatedBy], [t24].[DeletedAt], [t24].[Description], [t24].[DueDate], [t24].[IsDeleted], [t24].[IsPrivate], [t24].[Priority], [t24].[Progress], [t24].[ProjectId], [t24].[StartDate], [t24].[Status], [t24].[TShirtSize], [t24].[Title], [t24].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t23]
              LEFT JOIN (
                  SELECT [t25].[Id], [t25].[AssignedBy], [t25].[CreatedAt], [t25].[CreatedBy], [t25].[DeletedAt], [t25].[Description], [t25].[DueDate], [t25].[IsDeleted], [t25].[IsPrivate], [t25].[Priority], [t25].[Progress], [t25].[ProjectId], [t25].[StartDate], [t25].[Status], [t25].[TShirtSize], [t25].[Title], [t25].[UpdatedAt]
                  FROM [Tasks] AS [t25]
                  WHERE [t25].[IsDeleted] = CAST(0 AS bit)
              ) AS [t24] ON [t23].[TaskId] = [t24].[Id]
              WHERE [t23].[UserId] = @__userId_0 AND [t24].[Id] IS NOT NULL AND [t24].[IsDeleted] = CAST(0 AS bit)
          ) AS [t21]
          LEFT JOIN (
              SELECT [t26].[Id], [t26].[AssignedBy], [t26].[CreatedAt], [t26].[CreatedBy], [t26].[DeletedAt], [t26].[Description], [t26].[DueDate], [t26].[IsDeleted], [t26].[IsPrivate], [t26].[Priority], [t26].[Progress], [t26].[ProjectId], [t26].[StartDate], [t26].[Status], [t26].[TShirtSize], [t26].[Title], [t26].[UpdatedAt]
              FROM [Tasks] AS [t26]
              WHERE [t26].[IsDeleted] = CAST(0 AS bit)
          ) AS [t22] ON [t21].[TaskId] = [t22].[Id]
          WHERE [t2].[Key] = [t21].[Key] AND [t22].[Status] = N'stuck') AS [StuckTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t29].[Id], [t29].[SubtaskId], [t29].[TaskId], [t29].[UserId], [t30].[Id] AS [Id0], [t30].[AssignedBy], [t30].[CreatedAt], [t30].[CreatedBy], [t30].[DeletedAt], [t30].[Description], [t30].[DueDate], [t30].[IsDeleted], [t30].[IsPrivate], [t30].[Priority], [t30].[Progress], [t30].[ProjectId], [t30].[StartDate], [t30].[Status], [t30].[TShirtSize], [t30].[Title], [t30].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t29]
              LEFT JOIN (
                  SELECT [t31].[Id], [t31].[AssignedBy], [t31].[CreatedAt], [t31].[CreatedBy], [t31].[DeletedAt], [t31].[Description], [t31].[DueDate], [t31].[IsDeleted], [t31].[IsPrivate], [t31].[Priority], [t31].[Progress], [t31].[ProjectId], [t31].[StartDate], [t31].[Status], [t31].[TShirtSize], [t31].[Title], [t31].[UpdatedAt]
                  FROM [Tasks] AS [t31]
                  WHERE [t31].[IsDeleted] = CAST(0 AS bit)
              ) AS [t30] ON [t29].[TaskId] = [t30].[Id]
              WHERE [t29].[UserId] = @__userId_0 AND [t30].[Id] IS NOT NULL AND [t30].[IsDeleted] = CAST(0 AS bit)
          ) AS [t27]
          LEFT JOIN (
              SELECT [t32].[Id], [t32].[AssignedBy], [t32].[CreatedAt], [t32].[CreatedBy], [t32].[DeletedAt], [t32].[Description], [t32].[DueDate], [t32].[IsDeleted], [t32].[IsPrivate], [t32].[Priority], [t32].[Progress], [t32].[ProjectId], [t32].[StartDate], [t32].[Status], [t32].[TShirtSize], [t32].[Title], [t32].[UpdatedAt]
              FROM [Tasks] AS [t32]
              WHERE [t32].[IsDeleted] = CAST(0 AS bit)
          ) AS [t28] ON [t27].[TaskId] = [t28].[Id]
          WHERE [t2].[Key] = [t27].[Key] AND [t28].[Status] = N'review') AS [ReviewTasks], (
          SELECT COUNT(*)
          FROM (
              SELECT [t35].[Id], [t35].[SubtaskId], [t35].[TaskId], [t35].[UserId], [t36].[Id] AS [Id0], [t36].[AssignedBy], [t36].[CreatedAt], [t36].[CreatedBy], [t36].[DeletedAt], [t36].[Description], [t36].[DueDate], [t36].[IsDeleted], [t36].[IsPrivate], [t36].[Priority], [t36].[Progress], [t36].[ProjectId], [t36].[StartDate], [t36].[Status], [t36].[TShirtSize], [t36].[Title], [t36].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t35]
              LEFT JOIN (
                  SELECT [t37].[Id], [t37].[AssignedBy], [t37].[CreatedAt], [t37].[CreatedBy], [t37].[DeletedAt], [t37].[Description], [t37].[DueDate], [t37].[IsDeleted], [t37].[IsPrivate], [t37].[Priority], [t37].[Progress], [t37].[ProjectId], [t37].[StartDate], [t37].[Status], [t37].[TShirtSize], [t37].[Title], [t37].[UpdatedAt]
                  FROM [Tasks] AS [t37]
                  WHERE [t37].[IsDeleted] = CAST(0 AS bit)
              ) AS [t36] ON [t35].[TaskId] = [t36].[Id]
              WHERE [t35].[UserId] = @__userId_0 AND [t36].[Id] IS NOT NULL AND [t36].[IsDeleted] = CAST(0 AS bit)
          ) AS [t33]
          LEFT JOIN (
              SELECT [t38].[Id], [t38].[AssignedBy], [t38].[CreatedAt], [t38].[CreatedBy], [t38].[DeletedAt], [t38].[Description], [t38].[DueDate], [t38].[IsDeleted], [t38].[IsPrivate], [t38].[Priority], [t38].[Progress], [t38].[ProjectId], [t38].[StartDate], [t38].[Status], [t38].[TShirtSize], [t38].[Title], [t38].[UpdatedAt]
              FROM [Tasks] AS [t38]
              WHERE [t38].[IsDeleted] = CAST(0 AS bit)
          ) AS [t34] ON [t33].[TaskId] = [t34].[Id]
          WHERE [t2].[Key] = [t33].[Key] AND [t34].[DueDate] IS NOT NULL AND [t34].[DueDate] < GETUTCDATE() AND ([t34].[Status] <> N'done' OR [t34].[Status] IS NULL)) AS [OverdueTasks], (
          SELECT AVG(CAST([t40].[Progress] AS float))
          FROM (
              SELECT [t41].[Id], [t41].[SubtaskId], [t41].[TaskId], [t41].[UserId], [t42].[Id] AS [Id0], [t42].[AssignedBy], [t42].[CreatedAt], [t42].[CreatedBy], [t42].[DeletedAt], [t42].[Description], [t42].[DueDate], [t42].[IsDeleted], [t42].[IsPrivate], [t42].[Priority], [t42].[Progress], [t42].[ProjectId], [t42].[StartDate], [t42].[Status], [t42].[TShirtSize], [t42].[Title], [t42].[UpdatedAt], 1 AS [Key]
              FROM [TaskAssignees] AS [t41]
              LEFT JOIN (
                  SELECT [t43].[Id], [t43].[AssignedBy], [t43].[CreatedAt], [t43].[CreatedBy], [t43].[DeletedAt], [t43].[Description], [t43].[DueDate], [t43].[IsDeleted], [t43].[IsPrivate], [t43].[Priority], [t43].[Progress], [t43].[ProjectId], [t43].[StartDate], [t43].[Status], [t43].[TShirtSize], [t43].[Title], [t43].[UpdatedAt]
                  FROM [Tasks] AS [t43]
                  WHERE [t43].[IsDeleted] = CAST(0 AS bit)
              ) AS [t42] ON [t41].[TaskId] = [t42].[Id]
              WHERE [t41].[UserId] = @__userId_0 AND [t42].[Id] IS NOT NULL AND [t42].[IsDeleted] = CAST(0 AS bit)
          ) AS [t39]
          LEFT JOIN (
              SELECT [t44].[Id], [t44].[AssignedBy], [t44].[CreatedAt], [t44].[CreatedBy], [t44].[DeletedAt], [t44].[Description], [t44].[DueDate], [t44].[IsDeleted], [t44].[IsPrivate], [t44].[Priority], [t44].[Progress], [t44].[ProjectId], [t44].[StartDate], [t44].[Status], [t44].[TShirtSize], [t44].[Title], [t44].[UpdatedAt]
              FROM [Tasks] AS [t44]
              WHERE [t44].[IsDeleted] = CAST(0 AS bit)
          ) AS [t40] ON [t39].[TaskId] = [t40].[Id]
          WHERE [t2].[Key] = [t39].[Key]) AS [AverageProgress]
      FROM (
          SELECT 1 AS [Key]
          FROM [TaskAssignees] AS [t]
          LEFT JOIN (
              SELECT [t1].[Id], [t1].[IsDeleted]
              FROM [Tasks] AS [t1]
              WHERE [t1].[IsDeleted] = CAST(0 AS bit)
          ) AS [t0] ON [t].[TaskId] = [t0].[Id]
          WHERE [t].[UserId] = @__userId_0 AND [t0].[Id] IS NOT NULL AND [t0].[IsDeleted] = CAST(0 AS bit)
      ) AS [t2]
      GROUP BY [t2].[Key]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] GET /api/tasks/dashboard/stats took 152ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/368 took 0ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/368 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (117ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[TaskId], [t1].[LabelId], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [TaskLabels] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (77ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Subtasks] AS [s] ON [t0].[Id] = [s].[TaskId]
      ORDER BY [t0].[Id], [s].[Position], [s].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (114ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t0].[Id], [s].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Subtasks] AS [s] ON [t0].[Id] = [s].[TaskId]
      INNER JOIN [TaskAssignees] AS [t1] ON [s].[Id] = [t1].[SubtaskId]
      ORDER BY [t0].[Id], [s].[Position], [s].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[TaskId], [t1].[Text], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt0], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (159ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/tasks/368 took 872ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
      FROM [Tasks] AS [t]
      WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[TaskId], [t1].[LabelId], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [TaskLabels] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (133ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Subtasks] AS [s] ON [t0].[Id] = [s].[TaskId]
      ORDER BY [t0].[Id], [s].[Position], [s].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (189ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t0].[Id], [s].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Subtasks] AS [s] ON [t0].[Id] = [s].[TaskId]
      INNER JOIN [TaskAssignees] AS [t1] ON [s].[Id] = [t1].[SubtaskId]
      ORDER BY [t0].[Id], [s].[Position], [s].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[TaskId], [t1].[Text], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt0], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (86ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url], [t0].[Id]
      FROM (
          SELECT TOP(1) [t].[Id]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      INNER JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] GET /api/tasks/368 took 629ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/368 took 9ms
warn: Microsoft.EntityFrameworkCore.Query[20504]
      Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description:  -> B
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (88ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
warn: Microsoft.EntityFrameworkCore.Query[20504]
      Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 1207ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (106ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: B -> Bu
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (192ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (240ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 869ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu -> Bu 
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 580ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu  -> Bu b
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (84ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 532ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu b -> Bu bi
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (86ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 529ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bi -> Bu bir
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (102ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 527ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir -> Bu bir 
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (163ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 747ms
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/368 took 0ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (132ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (198ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir  -> Bu bir t
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (140ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 736ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (193ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir t -> Bu bir te
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (88ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 611ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir te -> Bu bir tes
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (81ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/368 took 482ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (154ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/368 took 245ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (96ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir tes -> Bu bir test
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (96ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/368 took 460ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir test -> Bu bir test 
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (79ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (112ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 523ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (159ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] PATCH /api/tasks/368 took 254ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (105ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir test  -> Bu bir test a
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (166ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 519ms
dotnet watch âŒš File updated: /Users/cloudsmac/Documents/AntiGravity/UnityApp/dotnet-backend/Unity.Infrastructure/Services/SmtpEmailService.cs
dotnet watch ðŸ”¥ [Unity.API (net10.0)] Hot reload succeeded.
info: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [REQUEST] OPTIONS /api/tasks/368 took 25ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir test a -> Bu bir test a 
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (91ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 670ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[DueDate], [t3].[IsCompleted], [t3].[Position], [t3].[StartDate], [t3].[TaskId], [t3].[Title], [t3].[Id0], [t3].[SubtaskId], [t3].[TaskId0], [t3].[UserId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[TaskId], [t5].[Text], [t5].[Id0], [t5].[Avatar], [t5].[Color], [t5].[CreatedAt0], [t5].[DeletedAt], [t5].[Email], [t5].[FullName], [t5].[Gender], [t5].[IsActive], [t5].[IsDeleted], [t5].[JobTitle], [t5].[Manager], [t5].[PasswordHash], [t5].[Role], [t5].[UpdatedAt], [t5].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN [TaskAssignees] AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN [TaskLabels] AS [t2] ON [t0].[Id] = [t2].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t4].[Id] AS [Id0], [t4].[SubtaskId], [t4].[TaskId] AS [TaskId0], [t4].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t4] ON [s].[Id] = [t4].[SubtaskId]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u] ON [c].[CreatedBy] = [u].[Id]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t2].[TaskId], [t2].[LabelId], [t3].[Id], [t3].[Id0], [t5].[Id], [t5].[Id0]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (141ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t].[Id], [t].[Avatar], [t].[Color], [t].[CreatedAt], [t].[DeletedAt], [t].[Email], [t].[FullName], [t].[Gender], [t].[IsActive], [t].[IsDeleted], [t].[JobTitle], [t].[Manager], [t].[PasswordHash], [t].[Role], [t].[UpdatedAt], [t].[Username], [u0].[UserId], [u0].[DepartmentId]
      FROM (
          SELECT TOP(1) [u].[Id], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [Users] AS [u]
          WHERE [u].[Id] = @__userId_0
      ) AS [t]
      LEFT JOIN [UserDepartments] AS [u0] ON [t].[Id] = [u0].[UserId]
      ORDER BY [t].[Id], [u0].[UserId]
[DEBUG] HasWriteAccessAsync checking: User=1, Task=368, Project=1
 - Access GRANTED: Admin
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (111ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p12='?' (DbType = Int32), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ActivityLogs] ([ActionType], [EntityId], [EntityType], [FieldName], [LogDate], [NewValue], [NewValueDisplay], [OldValue], [OldValueDisplay], [TraceId], [UserId])
      OUTPUT INSERTED.[Id]
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
      UPDATE [Tasks] SET [Description] = @p11
      OUTPUT 1
      WHERE [Id] = @p12;
[DEBUG] ActivityLogged: UPDATE on Task 368 - Description: Bu bir test a  -> Bu bir test a  
[DEBUG] PatchTask 368: Attachments count = 0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (95ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
      SET IMPLICIT_TRANSACTIONS OFF;
      SET NOCOUNT ON;
      UPDATE [Tasks] SET [UpdatedAt] = @p0
      OUTPUT 1
      WHERE [Id] = @p1;
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT [t0].[Id], [t0].[AssignedBy], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DueDate], [t0].[IsDeleted], [t0].[IsPrivate], [t0].[Priority], [t0].[Progress], [t0].[ProjectId], [t0].[StartDate], [t0].[Status], [t0].[TShirtSize], [t0].[Title], [t0].[UpdatedAt], [t1].[Id], [t1].[SubtaskId], [t1].[TaskId], [t1].[UserId], [t1].[Id0], [t1].[Avatar], [t1].[Color], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Email], [t1].[FullName], [t1].[Gender], [t1].[IsActive], [t1].[IsDeleted], [t1].[JobTitle], [t1].[Manager], [t1].[PasswordHash], [t1].[Role], [t1].[UpdatedAt], [t1].[Username], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t3].[Color], [t3].[CreatedAt], [t3].[CreatedBy], [t3].[Name], [t3].[ProjectId], [t5].[Id], [t5].[CreatedAt], [t5].[CreatedBy], [t5].[DueDate], [t5].[IsCompleted], [t5].[Position], [t5].[StartDate], [t5].[TaskId], [t5].[Title], [t5].[Id0], [t5].[SubtaskId], [t5].[TaskId0], [t5].[UserId], [t7].[Id], [t7].[CreatedAt], [t7].[CreatedBy], [t7].[TaskId], [t7].[Text], [t7].[Id0], [t7].[Avatar], [t7].[Color], [t7].[CreatedAt0], [t7].[DeletedAt], [t7].[Email], [t7].[FullName], [t7].[Gender], [t7].[IsActive], [t7].[IsDeleted], [t7].[JobTitle], [t7].[Manager], [t7].[PasswordHash], [t7].[Role], [t7].[UpdatedAt], [t7].[Username], [a].[Id], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[Size], [a].[TaskId], [a].[Type], [a].[Url]
      FROM (
          SELECT TOP(1) [t].[Id], [t].[AssignedBy], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DueDate], [t].[IsDeleted], [t].[IsPrivate], [t].[Priority], [t].[Progress], [t].[ProjectId], [t].[StartDate], [t].[Status], [t].[TShirtSize], [t].[Title], [t].[UpdatedAt]
          FROM [Tasks] AS [t]
          WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0
      ) AS [t0]
      LEFT JOIN (
          SELECT [t2].[Id], [t2].[SubtaskId], [t2].[TaskId], [t2].[UserId], [u].[Id] AS [Id0], [u].[Avatar], [u].[Color], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FullName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[JobTitle], [u].[Manager], [u].[PasswordHash], [u].[Role], [u].[UpdatedAt], [u].[Username]
          FROM [TaskAssignees] AS [t2]
          INNER JOIN [Users] AS [u] ON [t2].[UserId] = [u].[Id]
      ) AS [t1] ON [t0].[Id] = [t1].[TaskId]
      LEFT JOIN (
          SELECT [t4].[TaskId], [t4].[LabelId], [l].[Id], [l].[Color], [l].[CreatedAt], [l].[CreatedBy], [l].[Name], [l].[ProjectId]
          FROM [TaskLabels] AS [t4]
          INNER JOIN [Labels] AS [l] ON [t4].[LabelId] = [l].[Id]
      ) AS [t3] ON [t0].[Id] = [t3].[TaskId]
      LEFT JOIN (
          SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DueDate], [s].[IsCompleted], [s].[Position], [s].[StartDate], [s].[TaskId], [s].[Title], [t6].[Id] AS [Id0], [t6].[SubtaskId], [t6].[TaskId] AS [TaskId0], [t6].[UserId]
          FROM [Subtasks] AS [s]
          LEFT JOIN [TaskAssignees] AS [t6] ON [s].[Id] = [t6].[SubtaskId]
      ) AS [t5] ON [t0].[Id] = [t5].[TaskId]
      LEFT JOIN (
          SELECT [c].[Id], [c].[CreatedAt], [c].[CreatedBy], [c].[TaskId], [c].[Text], [u0].[Id] AS [Id0], [u0].[Avatar], [u0].[Color], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt], [u0].[Email], [u0].[FullName], [u0].[Gender], [u0].[IsActive], [u0].[IsDeleted], [u0].[JobTitle], [u0].[Manager], [u0].[PasswordHash], [u0].[Role], [u0].[UpdatedAt], [u0].[Username]
          FROM [Comments] AS [c]
          INNER JOIN [Users] AS [u0] ON [c].[CreatedBy] = [u0].[Id]
      ) AS [t7] ON [t0].[Id] = [t7].[TaskId]
      LEFT JOIN [Attachments] AS [a] ON [t0].[Id] = [a].[TaskId]
      ORDER BY [t0].[Id], [t1].[Id], [t1].[Id0], [t3].[TaskId], [t3].[LabelId], [t3].[Id], [t5].[Id], [t5].[Id0], [t7].[Id], [t7].[Id0]
warn: Unity.API.Middlewares.PerformanceLoggingMiddleware[0]
      [SLOW REQUEST] PATCH /api/tasks/368 took 525ms
